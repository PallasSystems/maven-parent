stages:
 - build
 - test
 - analyse
 - release

retrieve_build_files:
  stage: .pre
  script:
    - curl https://gitlab.com/crobar-solutions/ravenholm/ci-pipelines/-/raw/main/java/maven/build_verification.yml?private_token=$GITLAB_TOKEN > build_verification.yml
    - curl https://gitlab.com/crobar-solutions/ravenholm/ci-pipelines/-/raw/main/java/maven/release_on_branch.yml?private_token=$GITLAB_TOKEN > release_on_branch.yml
  artifacts:
    paths:
      - build_verification.yml
      - release_on_branch.yml

include:
 - local: build_verification.yml
 - local: release_on_branch.yml
